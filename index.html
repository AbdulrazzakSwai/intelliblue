<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntelliBlue SOC Engine</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <canvas id="bg-particles"></canvas>
    <div class="app-container">
        <nav class="sidebar">
            <div class="logo-area">
                <span class="icon">🛡️</span>
                <span class="logo-text">IntelliBlue</span>
            </div>
            
            <ul class="nav-links">
                <li class="active" data-view="analyst">
                    <a href="#"><span class="icon">📊</span> Dashboard</a>
                </li>
                <li data-view="analyst">
                    <a href="#"><span class="icon">🔔</span> Alerts</a>
                </li>
                <li data-view="analyst">
                    <a href="#"><span class="icon">📝</span> Logs</a>
                </li>
                <li data-view="admin" class="admin-only" style="display: none;">
                    <a href="#"><span class="icon">👥</span> Users & Roles</a>
                </li>
                <li data-view="admin" class="admin-only" style="display: none;">
                    <a href="#"><span class="icon">📋</span> Audit Trail</a>
                </li>
                <li data-view="admin" class="admin-only" style="display: none;">
                    <a href="#"><span class="icon">⚙️</span> Settings</a>
                </li>
                <li style="margin-top: auto;">
                    <a href="#" id="about-btn"><span class="icon">ℹ️</span> About</a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="avatar"><span class="icon" style="margin:0">👤</span></div>
                    <div class="user-info">
                        <span class="user-name">Alex Rider</span>
                        <span class="user-role" id="current-role-label">SOC Analyst</span>
                    </div>
                </div>
                <button id="logout-btn" title="Emulate Logout"><span class="icon">🚪</span></button>
            </div>
        </nav>

        <main class="main-content">
            <header class="top-bar">
                <div class="breadcrumb">
                    <span id="page-title">Workspace</span>
                    <span class="demo-tag">DEMO MODE</span>
                </div>
                
                <div class="top-controls">
                    <button id="theme-toggle" title="Toggle Theme">
                        <span class="icon">☀️</span>
                    </button>
                </div>
            </header>

            <div id="view-analyst" class="view-section active">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-icon warning"><span class="icon" style="margin:0">⚠️</span></div>
                        <div class="stat-details">
                            <h3>12</h3>
                            <p>Active Alerts</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon danger"><span class="icon" style="margin:0">🐞</span></div>
                        <div class="stat-details">
                            <h3>2</h3>
                            <p>Critical Incidents</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success"><span class="icon" style="margin:0">✅</span></div>
                        <div class="stat-details">
                            <h3>98%</h3>
                            <p>Systems Healthy</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon info"><span class="icon" style="margin:0">⏱️</span></div>
                        <div class="stat-details">
                            <h3>4m</h3>
                            <p>Avg Response</p>
                        </div>
                    </div>

                    <div class="chat-interface-container">
                        <div class="chat-header">
                            <span class="icon">🤖</span> IntelliBlue Assistant
                            <span class="status-indicator online"></span>
                        </div>
                        <div class="chat-messages" id="chat-messages">
                        </div>
                        
                        <div class="chat-input-area">
                            <button class="attach-btn" id="attach-btn" title="Upload Log File">
                                <span class="icon" style="margin:0">📎</span>
                            </button>
                            <input type="file" id="file-upload" hidden>
                            <input type="text" id="chat-input" placeholder="Type a message or upload a log file..." autocomplete="off">
                            <button class="send-btn" id="send-btn">
                                <span class="icon" style="margin:0">➤</span>
                            </button>
                        </div>
                    </div>

                    <div class="side-panel">
                        <div class="panel-header">
                            <h4>Recently Uploaded Files</h4>
                        </div>
                        <ul class="alert-list" id="uploaded-files-list">
                            <li class="alert-item">
                                <div class="alert-content">
                                    <span class="alert-meta">No files uploaded yet.</span>
                                </div>
                            </li>
                        </ul>
                        
                        <div class="panel-header" style="margin-top: 20px;">
                            <h4>Parsed Data Preview</h4>
                        </div>
                        <div class="parsed-data-mock">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Timestamp</th>
                                        <th>Source</th>
                                        <th>Event</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>10:42:01</td>
                                        <td>192.168.1.105</td>
                                        <td>OUTBOUND</td>
                                    </tr>
                                    <tr>
                                        <td>10:42:05</td>
                                        <td>192.168.1.105</td>
                                        <td>DNS_REQ</td>
                                    </tr>
                                    <tr>
                                        <td>10:42:22</td>
                                        <td>192.168.1.105</td>
                                        <td>PAYLOAD</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="table-overlay">
                                <span class="icon">🔒</span> Upload logs to view details
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="view-admin" class="view-section" style="display: none;">
                <div class="admin-container">
                    <div class="admin-tabs">
                        <button class="tab-btn active" onclick="alert('Demo: Tab Switch')">Users & Roles</button>
                        <button class="tab-btn" onclick="alert('Demo: Tab Switch')">Audit Trail</button>
                        <button class="tab-btn" onclick="alert('Demo: Tab Switch')">Settings</button>
                    </div>

                    <div class="admin-content-card">
                        <h3>User Management</h3>
                        <div class="tool-bar">
                            <button class="primary-btn"><span class="icon">➕</span> Add User</button>
                            <input type="text" placeholder="Search users..." class="search-box">
                        </div>
                        
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Role</th>
                                    <th>Last Login</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Alex Rider</td>
                                    <td><span class="badge role-analyst">Analyst</span></td>
                                    <td>Just now</td>
                                    <td><span class="badge status-active">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Sarah Connor</td>
                                    <td><span class="badge role-admin">Admin</span></td>
                                    <td>2 hours ago</td>
                                    <td><span class="badge status-active">Active</span></td>
                                </tr>
                                <tr>
                                    <td>John Doe</td>
                                    <td><span class="badge role-analyst">Analyst</span></td>
                                    <td>1 day ago</td>
                                    <td><span class="badge status-inactive">Inactive</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <div id="modal-backdrop" class="modal-backdrop hidden">
        <div class="modal">
            <div class="modal-header">
                <h3>Generate Incident Report</h3>
                <button class="close-modal"><span class="icon">❌</span></button>
            </div>
            <div class="modal-body">

                <p>Are you sure you want to download the incident analysis report for <strong>INC-2024-001</strong>?</p>
                <p class="subtext">This report includes detected IOCs, timeline, and remediation steps.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancel-download">Cancel</button>
                <button class="btn-confirm" id="confirm-download">Download PDF</button>
            </div>
        </div>
    </div>

    <div id="about-modal" class="modal-backdrop hidden">
        <div class="modal" style="width: 500px; max-width: 90%;">
            <div class="modal-header">
                <h3>About IntelliBlue</h3>
                <button class="close-modal" id="close-about-modal"><span class="icon">❌</span></button>
            </div>
            <div class="modal-body" style="line-height: 1.5;">
                <p>IntelliBlue is a Security Operations Center (SOC) dashboard built for our Capstone 2 project in the BSc Cybersecurity program.</p>
                <p style="margin-top: 10px;">It integrates AI analysis and chatbots into SOC workflows to help security analysts monitor alerts and analyze threats in a simulated environment.</p>
                
                <h4 style="margin-top: 15px; margin-bottom: 5px;">Features</h4>
                <ul style="padding-left: 20px;">
                    <li><strong>Dashboard:</strong> Monitor security alerts and logs.</li>
                    <li><strong>Chat Assistant:</strong> Helps analyze logs and suggests actions for threats.</li>
                    <li><strong>User Roles:</strong> Separate views for Analysts and Admins.</li>
                    <li><strong>Design:</strong> Dark and Light mode support.</li>
                </ul>
                
                <h4 style="margin-top: 15px; margin-bottom: 5px;">Technologies</h4>
                <p>HTML, CSS, JavaScript</p>
                
                <p class="subtext" style="font-style: italic; margin-top: 20px;">Created for demonstration purposes.</p>
            </div>
        </div>
    </div>

    <div id="false-positive-modal" class="modal-backdrop hidden">
        <div class="modal">
            <div class="modal-header">
                <h3>Report False Positive</h3>
                <button class="close-modal-fp"><span class="icon">❌</span></button>
            </div>
            <div class="modal-body">
                <p>Please provide details on why you believe this analysis is a false positive.</p>
                <textarea id="fp-details" rows="5" style="width: 100%; margin-top: 10px; padding: 10px; border-radius: 5px; border: 1px solid var(--border-color); background: var(--bg-body); color: var(--text-primary); resize: vertical;" placeholder="Enter your reasoning here..."></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancel-fp">Cancel</button>
                <button class="btn-confirm" id="submit-fp">Submit Feedback</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
